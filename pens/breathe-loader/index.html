<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pufferfish</title>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">
    <style>
        @keyframes bgColorAnimate {
            40%, 60% {
                background: rgb(36, 67, 155);
            }
            0%, 5%, 95%, 100% {
                background: rgb(179, 201, 214);
            }
        }
        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: bgColorAnimate 10s linear infinite;
            margin: 0;
            overflow: hidden;
            font-family: 'Balsamiq Sans', cursive;
        }
        main {
            display: flex;
            flex-direction: column;
        }
        @keyframes expand {
            40%, 60% {
                transform: rotateX(0deg);
            }
            0%, 5%, 95%, 100% {
                transform: rotateX(70deg);
            }
        }
        @keyframes organAdjust {
            40%, 60% {
                transform: var(--transform-2);
            }
            0%, 5%, 95%, 100% {
                transform: var(--transform-1);
            }
        }
        .pufferfish {
            --pufferfish-puff-duration: 10s;
            --pufferfish-width: 200px;
            --pufferfish-height-1: calc(var(--pufferfish-width) / 4); 
            --pufferfish-height-2: var(--pufferfish-width);
            --lips-color: #D58936;
            --body-color-1: #f7d8c5;
            --body-color-2: #8f552a;
            --body-color-3: #bc9267;
            --pufferfish-outline-color: #2a1f17;


            height: var(--pufferfish-height-2);
            width: var(--pufferfish-width);
            /* animation: expand var(--pufferfish-puff-duration) linear infinite; */
        }
        .pufferfish > * {
            position: absolute;
        }
        .pufferfish__body {
            --pufferfish-color: rgb(201, 119, 81);
            background: linear-gradient(to bottom, var(--body-color-2) 0%,
                var(--body-color-2) 60%,
                var(--body-color-1) 0%);
            height: var(--pufferfish-height-2);
            /* transform: rotateX(10deg); */
            width: var(--pufferfish-width);
            border-radius: 50%;
            border: 5px solid var(--pufferfish-outline-color);
            animation: expand var(--pufferfish-puff-duration) linear infinite;
        }
        .pufferfish__eye, .pufferfish__fin-pectoral, 
        .pufferfish__tail, .pufferfish__lips {
            transform: var(--transform-1);
            --custom-animation: organAdjust var(--pufferfish-puff-duration) linear infinite;
            animation: var(--custom-animation);
        } 
        .pufferfish__eye {
            --pufferfish-eye-color: yellow;
            --pufferfish-eye-size: 25px;
            border-radius: 50%;
            height: var(--pufferfish-eye-size);
            width: var(--pufferfish-eye-size);
            background: var(--pufferfish-outline-color);
            border: 3px solid var(--pufferfish-outline-color);
            box-shadow: inset -6px -2px 0 5px white;
            --transform-1: translate(10px, 90px);
            --transform-2: translate(10px, 70px);
        }
        @keyframes finPectoralAnim {
            40%, 41%, 50%, 60% {
                transform: var(--transform-2) rotate(0deg);
            }
            42%, 46% {
                transform: var(--transform-2) rotate(20deg);
            }
            44%, 48% {
                transform: var(--transform-2) rotate(-20deg);
            }
            0%, 5%, 95%, 100% {
                transform: var(--transform-1);
            }
        }
        .pufferfish__fin-pectoral {
            --pufferfish-fin-pectoral-color: var(--body-color-3);
            --pufferfish-fin-pectoral-size: 25px;
            background: var(--pufferfish-fin-pectoral-color);
            width: var(--pufferfish-fin-pectoral-size);
            height: var(--pufferfish-fin-pectoral-size);
            border-radius: 80% 20% 20% 80% / 50%;
            border: 3px solid var(--pufferfish-outline-color);
            transform-origin: center left;
            --transform-1: translate(50px, 90px);
            --transform-2: translate(50px, 80px);
            --custom-animation: finPectoralAnim 10s linear infinite;
        }
        @keyframes tailAnim {
            0%, 5%, 40%, 60%, 95%, 100% {
                transform: var(--transform-1);
            }
            2%, 45%, 55%{
                transform: var(--transform-1) rotate(10deg);
            }
            50%, 97% {
                transform: var(--transform-1) rotate(-10deg);
            }
        }
        .pufferfish__tail {
            --pufferfish-tail-color: var(--body-color-3);
            --pufferfish-tail-size: 50px;
            background: var(--pufferfish-tail-color);
            width: var(--pufferfish-tail-size);
            height: var(--pufferfish-tail-size);
            border-radius: 80% 20% 20% 80% / 50%;
            border: 3px solid var(--pufferfish-outline-color);
            transform-origin: center left;
            --transform-1: translate(190px, 80px);
            --custom-animation: tailAnim 10s linear infinite;
        }
        @keyframes lipsAnim {
            40%, 41%, 50%, 60% {
                transform: var(--translate-2);
            }
            98%, 2% {
                transform: var(--translate-3);
            }
            0%, 5%, 95%, 100% {
                transform: var(--translate-1);
            }
        }
        .pufferfish__lips {
            --lips-color: var(--body-color-3);
            background: var(--lips-color);
            width: 20px;
            height: 10px;
            border-radius: 50%;
            border: 3px solid var(--pufferfish-outline-color);
            transform-origin: center right;
            --translate-1: translate(-10px, 93px) rotate(20deg);
            --translate-2: translate(-10px, 93px) rotate(20deg);
            --translate-3: translate(-8px, 93px) rotate(20deg);
            --custom-animation: lipsAnim 10s linear infinite;
        }
        .pufferfish__lips::after {
            background: var(--lips-color);
            border-radius: 50%;
            border: 3px solid var(--pufferfish-outline-color);
            content: "";
            position: absolute;
            width: 20px;
            height: 10px;
            transform:  translate(0px, 11px) rotate(-40deg);
        }
        @keyframes spikeAnim {
            0%, 30%, 65%, 100% {
                opacity: 0;
            }
            40%, 60% {
                opacity: 1;
                transform: var(--transform-1);
            }
        }
        .pufferfish__spikes, .pufferfish__spikes::before, .pufferfish__spikes::after {
            --spike-color: var(--body-color-3);
            background: var(--spike-color);
            width: 10px;
            height: 10px;
            border-radius: 100% 0% 30% 70% / 30% 0% 100% 70%;
            animation: spikeAnim 10s linear infinite;
            transform: translate(var(--transform-1));
        }
        .pufferfish__spikes::before, .pufferfish__spikes::after {
            content: "";
            position: absolute;
        }
        .pufferfish__spikes {
            --transform-1: translate(68px, 10px);
            --transform-2: translate(68px, 30px);
            box-shadow: 44px -10px var(--spike-color), 
                81px 0px var(--spike-color), 
                108px 20px var(--spike-color);
        }
        .pufferfish__spikes::before {
            --transform-1: translate(26px, 18px) rotate(25deg);
            --transform-2: translate(26px, 18px) rotate(25deg);
            box-shadow: 45px -11px var(--spike-color), 
                101px -16px var(--spike-color);
        }
        .pufferfish__spikes::after {
            --transform-1: translate(46px, 48px) rotate(55deg);
            --transform-2: translate(46px, 48px) rotate(55deg);
            box-shadow: 33px -36px var(--spike-color), 
                68px -55px var(--spike-color);
        }
        .breathe-text {
            text-align: center;
            margin: 0 0 20px 0;
            width: 240px;
        }
        @keyframes breatheText {
            60%, 100% {
                content: "BREATHE OUT";
            }
            0%, 59% {
                content: "BREATHE IN";
            }
            100%, 0%, 12%, 50%, 62% {
                opacity: 0;
            }
            15%, 40%, 65%, 90% {
                opacity: 1;
            }
        }
        .breathe-text::before {
            font-weight: 900;
            letter-spacing: 8px;
            content: "BREATHE IN";
            font-size: 1.2rem;
            animation: breatheText 10s linear infinite;
        }
    </style>
</head>
<body>
    <main>
        <label class="breathe-text"></label>
        <div class="pufferfish">
            <div class="pufferfish__lips"></div>
            <div class="pufferfish__tail"></div>
            <div class="pufferfish__body"></div>
            <div class="pufferfish__eye"></div>
            <div class="pufferfish__fin-pectoral"></div>
            <div class="pufferfish__spikes"></div>
        </div>
    </main>
</body>
</html>